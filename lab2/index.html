<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ</title>
  <style>
    :root {
      --main-bg: #f4f6fb;
      --board-bg: #ffffff;
      --player-x: #ff4757;
      --player-o: #3742fa;
      --text-main: #2f3542;
      --btn-bg: #2ed573;
      --btn-color: white;
      --footer-bg: #1e272e;
      --footer-color: white;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", Tahoma, sans-serif;
    }
    body {
      background: var(--main-bg);
      color: var(--text-main);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      text-align: center;
    }
    h1 { margin: 20px 0; font-size: 2rem; }
    .screen { display: none; padding: 20px; }
    .screen.active { display: block; }
    .input-group { margin: 15px 0; }
    input {
      width: 85%;
      padding: 12px;
      font-size: 1rem;
      border: 2px solid #ddd;
      border-radius: 10px;
      margin-top: 8px;
    }
    button {
      padding: 12px 25px;
      font-size: 1rem;
      background: var(--btn-bg);
      color: var(--btn-color);
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 20px;
    }
    .board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      max-width: 320px;
      margin: 20px auto;
      background: var(--board-bg);
      padding: 10px;
      border-radius: 16px;
    }
    .cell {
      background: #ecf0f1;
      height: 90px;
      font-size: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
      cursor: pointer;
    }
    footer {
      margin-top: auto;
      background: var(--footer-bg);
      color: var(--footer-color);
      padding: 12px;
      font-size: 0.9rem;
      line-height: 1.6;
    }
  </style>
</head>
<body>
<section id="start-screen" class="screen active">
  <h1>ğŸ® Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ</h1>
  <div class="input-group">
    <label>Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„</label><br>
    <input id="player1-name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„">
  </div>
  <div class="input-group">
    <label>Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºÙ‹Ø§ Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±)</label><br>
    <input id="player2-name" placeholder="Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø£Ùˆ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±">
  </div>
  <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</section>

<section id="game-screen" class="screen">
  <h1 id="turn-text"></h1>
  <div class="board">
    <div class="cell" onclick="makeMove(0)"></div>
    <div class="cell" onclick="makeMove(1)"></div>
    <div class="cell" onclick="makeMove(2)"></div>
    <div class="cell" onclick="makeMove(3)"></div>
    <div class="cell" onclick="makeMove(4)"></div>
    <div class="cell" onclick="makeMove(5)"></div>
    <div class="cell" onclick="makeMove(6)"></div>
    <div class="cell" onclick="makeMove(7)"></div>
    <div class="cell" onclick="makeMove(8)"></div>
  </div>
  <button onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
</section>

<footer>
  Student Name: ABDULLAH MAHMOOD ABDULHAMID BOGIS (Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÙŠØ¯ Ø¨ÙˆÙ‚Ø³)<br>
  Student ID: 44611200<br>
  Supervised by: Mohammed Ahmed Jabali
</footer>

<script>
let board = Array(9).fill("");
let currentPlayer = "X";
let running = false;
let singlePlayer = false;
let player1 = "";
let player2 = "";

function startGame() {
  player1 = document.getElementById("player1-name").value || "Ø§Ù„Ù„Ø§Ø¹Ø¨ 1";
  player2 = document.getElementById("player2-name").value;
  singlePlayer = player2.trim() === "";
  if (singlePlayer) player2 = "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±";
  board.fill("");
  document.querySelectorAll(".cell").forEach(c => c.textContent = "");
  currentPlayer = "X";
  running = true;
  updateTurnText();
  document.getElementById("start-screen").classList.remove("active");
  document.getElementById("game-screen").classList.add("active");
}

function updateTurnText() {
  const name = currentPlayer === "X" ? player1 : player2;
  document.getElementById("turn-text").textContent = `Ø¯ÙˆØ± ${name} (${currentPlayer})`;
}

function makeMove(index) {
  if (!running || board[index] !== "") return;
  board[index] = currentPlayer;
  document.getElementsByClassName("cell")[index].textContent = currentPlayer;
  if (checkWinner()) return;
  currentPlayer = currentPlayer === "X" ? "O" : "X";
  updateTurnText();
  if (singlePlayer && currentPlayer === "O" && running) {
    setTimeout(aiMove, 400);
  }
}

function aiMove() {
  let empty = board.map((v,i)=>v===""?i:null).filter(i=>i!==null);
  if (!empty.length) return;
  let choice = empty[Math.floor(Math.random()*empty.length)];
  makeMove(choice);
}

function checkWinner() {
  const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
  for (let w of wins) {
    if (board[w[0]] && board[w[0]]===board[w[1]] && board[w[1]]===board[w[2]]) {
      alert(`ğŸ‰ Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ: ${currentPlayer==="X"?player1:player2}`);
      running=false;
      return true;
    }
  }
  if (!board.includes("")) {
    alert("ğŸ¤ ØªØ¹Ø§Ø¯Ù„!");
    running=false;
    return true;
  }
  return false;
}

function resetGame() {
  document.getElementById("game-screen").classList.remove("active");
  document.getElementById("start-screen").classList.add("active");
}
</script>
</body>
</html>
